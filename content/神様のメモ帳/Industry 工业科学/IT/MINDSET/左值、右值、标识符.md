---
tags:
- Label/Article/Industry-工业科学/IT/LANGUAGE
---

[函数 - Rust 程序设计语言 简体中文版](https://kaisery.github.io/trpl-zh-cn/ch03-03-how-functions-work.html#%E8%AF%AD%E5%8F%A5%E5%92%8C%E8%A1%A8%E8%BE%BE%E5%BC%8F)

[什么是所有权？ - Rust 程序设计语言 简体中文版](https://kaisery.github.io/trpl-zh-cn/ch04-01-what-is-ownership.html)

[深入理解Perl的变量 - Perl入门秘籍](https://perl-book.junmajinlong.com/ch2/2_variable_details.html)

[Perl变量基础 - Perl入门秘籍](https://perl-book.junmajinlong.com/ch2/1_assignment.html)

[16. 语句、表达式和海象操作符](https://github.com/piglei/one-python-craftsman/blob/master/zh_CN/16-stmt-expr-and-walrus-operator.md)


    表达式
    语句
    左值
    右值
    stack
    heap


left value 左值比较难理解.
right value 右值是内存中的一个「对象」，或者说就是「一段内存」「一段 0 和 1」，这很好理解，表达式返回的结果就是右值.


Perl中的「变量赋值（语句）」自身也有返回值，它的返回值是变量自身(或者说是左值lvalue)。
怎么理解呢？
什么叫左值？
什么叫变量自身？
先来看个简单的例子：
`a = 0`
这个简单的赋值语句，`0` 是右值，很好理解；`a` 在赋值等号的左边，所以 `a` 只能是左值。凭着「赋值语句一边是左值一边是右值」这样的常识（即便较为模糊），我们还是作出了明确的判断。
`a` 是左值，那么 `a` 代表的东西，应该也就是「左值」所代表的东西。
`a` 代表什么？`a` 代表变量名啊。
此时再看 Perl 代码：
`(my $a = 0) = 1`
最后 `a` 的值为 `1`，因为赋值语句 `my $a = 0` 返回了左值 `$a`，`a` 是「变量名」，所以变成了 `$a = 1`，`a` 实际上经历了 2 次赋值。


是不是可以这么说：左值、右值区别越小的语言，越接近 lisp？此时几乎全是典型的右值，包括赋值语句，赋值语句不就是需要两个参数的「函数」嘛，函数是会返回东西的，既然是函数返回，那就是典型的「右值」了，也越来越函数式了。

赋值语句：首先计算等号右边的表达式，然后将表达式的结果赋值给等号左边的变量（严格来说是左值） aka. 等号右边的右值，赋给等号左边的左值。
那么问题的关键，就从什么是「左值」「右值」，变成了什么叫「赋给」，「赋给」了会怎么样？
**答案是 Stack + Heap + 变量赋值模型.**



“表达式”一词的用法与《Python语言参考》中定义的相同。可以概括为“任何在 if、elif 和 while 块中测试为有效的内容”。


表达式、语句

我为什么讨厌 `const {a, b, c} = abc`？

显式优于隐式。比较合理的应该类似

`a, b, c = abc[a], abc[b], abc[c]`

然而 js 社区一向倡导前者，这种隐晦的风格比比皆是，不但语法上令人无法适从，js 在社区层面也决定了它不可能大众化，除了和浏览器强绑定，js 压根就不具备面向大众的基础


「表达式和语句应该在语言规范层面彻底区分开」，这是我的原则。臭名昭著的 `:=` 纯属活该，我看着都想吐。




可变对象、不可变对象
引用类型、值类型

这是两组不同的概念，前者是对象，后者是标识符。前者是右值、后者是左值。

从这里我们就可以看出左值、右值的本质，没错，又是万能的中间层。

一句话，每个语言对类型系统和对象系统的具体实现大同小异、似是而非，这不是个偶然，类似的设计必然是有着相同的模型的，这个模型简单说就是「左值」「右值」。左值与右值背后其实是一套较为完备的理论，这套理论与现实高度相关，或者说就是与几个特定的数学问题高度相关。